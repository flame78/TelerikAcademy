<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <title></title>
    <script src="LIBS/jquery-2.1.1.js"></script>
    <script src="LIBS/q.js"></script>
    <script src="LIBS/sammy.js"></script>
</head>
<body>
    <div id="wrapper">
        
        <button id="btn">Click</button>
    </div>
    <script src="rest.js"></script>
    <script>
        var MyAdvancedPlugin = function (app, prefix, suffix) {
            
            this.helpers({
                alert: function (message) {
                    this.log(prefix, message, suffix);
                }
            });

        };

        
        var app = $.sammy(function () {

            var self = this;

            this.use(MyAdvancedPlugin, 'BEFORE!', 'AFTER!');

            this.get('#/', function () {
                this.alert("I'm home"); //=> logs: BEFORE! I'm home AFTER!
            });

            this.get('#/btn-clk', function () {
                $('#wrapper').html('<h1>Button clicked</h1>');
            });

            $("#btn").on('click', function () {
                location.hash = '#/btn-clk';
            })
            
        });

        app.run('#/');

        
 /*       var restUrl = 'http://crowd-chat.herokuapp.com/posts';

      

        rest.getJSON(restUrl,
                     function (data) {
                         console.log(data);
                     },
                     function (err) {
                         console.log(err);
                     });

        rest.promiseAjaxGetJSON(restUrl)
                .then(function (data) {
                    console.log('with Q promise ')
                    console.log(data);
                },
                     function (err) {
                         console.log(err);
                     })
                .done();

        rest.postJSON(restUrl, {
            "user": "USER_NAME",
            "text": "MESSAGE_TEXT"
        }, function (data) {
            console.log(data);
        },
             function (err) {
                 console.log(err);
             });
             */
    </script>
</body>
</html>
